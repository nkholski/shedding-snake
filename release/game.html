<canvas id=a style="height:99%"/><script>W=a.width=a.height=900,Q=30,L=S=u=l=d=r=A=R=Y=U=I=O=P=T=0,c=a.getContext`2d`,c.textAlign="center",onkeydown=e=>{top["lld*rlurdu"[e.which%32%17]]=e.type[5],U=u?2:r?3:d?4:l?5:U,u=l=d=r=0},E=e=>{do{R=W*Math.random()|0}while(S[R]);S[R]=3},D=(e="#000")=>c.fillStyle=e,J=(e,t,i=50)=>c.fillText(e,9*i,9*t),F=(e,t)=>c.translate(15,15)+(t?c.rotate(1.6*U):0)+J(e,.5,0),K=e=>c.font=e+"px a",setInterval(e=>{if(A){if(K(25),G=O[0]+(2==U?-Q:3==U?1:4==U?Q:-1),G+=G<0?W:G>W?-W-1:0,H=O.pop(),O=[G,...O],S[H]=--P<0?0:1,3==S[G])E(),S[H]=2,P=O.length,S=S.map(e=>2==e?1:e),T=++Y>T?Y:T,O.push(H);else if(S[G])return void(P=Y=U=A=0);for(S[G]=2,i=0;i<W;i++)c.restore(),c.save(),K(25),x=i%Q,c.translate(x*Q,Q*(i-x)/Q),O[0]!=i?(D([,"#DDD","#693"][S[i]]),c.fillRect(0,0,Q,Q),2==S[i]&&F`✖️`,3==S[i]&&F`🍎`):F("🐸",1);c.restore(),D`#099`,J(`Score:${Y} 🐍 Top:${T}`,3)}else K(60),D`#099`,J("🐍Shedding Snake",Q),++L%2&&D(),J("Press S",42),S=[],E(),O=[Q/2+W/2],S[O]=2,A=U?1:A},150)</script>